<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced 3D Polytope Viewer</title>
    <link rel="stylesheet" href="style.css">
    <!-- Add GIF.js libraries before importmap -->
    <script src="./vendor/gif.js/gif.js"></script>
    <script>
      console.log("GIF constructor available:", typeof GIF);
      if (typeof GIF === 'undefined') {
	  console.error("GIF.js library not loaded properly");
      }
    </script>
</head>
<body>
  <div id="controls">
        <label for="polytope-select">Select Polytope:</label>
        <select id="polytope-select"></select>

        <label for="face-color-picker">Face Color:</label>
        <input type="color" id="face-color-picker" value="#1E90FF"> <!-- Default: DodgerBlue -->

        <label for="face-opacity-slider">Face Opacity:</label>
        <input type="range" id="face-opacity-slider" min="0" max="1" step="0.05" value="0.9">

        <!-- Add New Color Scheme Dropdown -->
        <label for="color-scheme-select">Color Scheme:</label>
        <select id="color-scheme-select"></select>
        
        <!-- New Controls for Vertex Emphasis -->
        <label for="vertex-emphasis-toggle">Emphasize Vertices:</label>
        <input type="checkbox" id="vertex-emphasis-toggle">
        
        <label for="vertex-color-picker">Vertex Color:</label>
        <input type="color" id="vertex-color-picker" value="#000000" disabled> <!-- Default: Black -->
        
        <!-- Autorotation Toggle Button -->
        <button id="autorotate-button">Start Autorotation</button>

        <button id="export-button">Export PNG</button>
        <button id="export-gif-button">Export GIF</button>
        
        <p id="loading-status" style="display: none; color: orange;">Loading...</p>
        <p id="error-message" style="display: none; color: red;"></p>
    </div>

    <canvas id="viewer-canvas"></canvas>

    <!-- Import Three.js and Controls -->
    <script type="importmap">
        {
            "imports": {
                "three": "./vendor/three.module.js",
                "three/addons/": "./vendor/examples/jsm/"
            }
        }
    </script>

    <!-- Main Application Logic -->
    <script type="module" src="js/main.js"></script>
</body>
</html>
